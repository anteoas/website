{
  "version": 3,
  "sources": ["../../../assets/js/modules/language-detector.js"],
  "sourcesContent": ["// Language detection and redirect logic\nexport function init(config = {}) {\n  const { basePath = '', currentLang = 'no', langPrefix = '' } = config;\n  \n  // Initialize language detection\n  detectAndRedirect(config);\n  \n  // Initialize language switcher\n  initLanguageSwitcher(config);\n}\n\nfunction detectAndRedirect(config) {\n  const { basePath = '', currentLang = 'no' } = config;\n  const pathname = window.location.pathname;\n  \n  // Determine if we're on the homepage\n  const isHomepage = \n    pathname === basePath + '/' || \n    pathname === basePath + '/index.html' ||\n    pathname === basePath + '/en/' ||\n    pathname === basePath + '/en/index.html' ||\n    pathname === basePath || // Just the base path\n    pathname === basePath + '/' + currentLang + '/' ||\n    pathname === basePath + '/' + currentLang + '/index.html';\n  \n  if (!isHomepage) {\n    return;\n  }\n\n  // Check if user has already chosen a language\n  const languagePreference = localStorage.getItem('languagePreference');\n  \n  if (!languagePreference) {\n    // Detect browser language\n    const browserLang = navigator.language || navigator.userLanguage;\n    \n    // If browser language is English, redirect to English version\n    if (browserLang.toLowerCase().startsWith('en')) {\n      // Redirect to English homepage\n      window.location.href = basePath + '/en/';\n    }\n    \n    // Set preference to prevent future redirects\n    localStorage.setItem('languagePreference', browserLang.toLowerCase().startsWith('en') ? 'en' : 'no');\n  }\n}\n\n// Update language preference when user clicks language switcher\nfunction initLanguageSwitcher(config) {\n  const langSwitches = document.querySelectorAll('.lang-switch');\n  \n  langSwitches.forEach(link => {\n    link.addEventListener('click', function(e) {\n      // Determine which language they're switching to\n      const switchingToEnglish = this.href.includes('/en/');\n      localStorage.setItem('languagePreference', switchingToEnglish ? 'en' : 'no');\n    });\n  });\n}\n"],
  "mappings": ";;AACO,WAAS,KAAK,SAAS,CAAC,GAAG;AAChC,UAAM,EAAE,WAAW,IAAI,cAAc,MAAM,aAAa,GAAG,IAAI;AAG/D,sBAAkB,MAAM;AAGxB,yBAAqB,MAAM;AAAA,EAC7B;AAEA,WAAS,kBAAkB,QAAQ;AACjC,UAAM,EAAE,WAAW,IAAI,cAAc,KAAK,IAAI;AAC9C,UAAM,WAAW,OAAO,SAAS;AAGjC,UAAM,aACJ,aAAa,WAAW,OACxB,aAAa,WAAW,iBACxB,aAAa,WAAW,UACxB,aAAa,WAAW,oBACxB,aAAa;AAAA,IACb,aAAa,WAAW,MAAM,cAAc,OAC5C,aAAa,WAAW,MAAM,cAAc;AAE9C,QAAI,CAAC,YAAY;AACf;AAAA,IACF;AAGA,UAAM,qBAAqB,aAAa,QAAQ,oBAAoB;AAEpE,QAAI,CAAC,oBAAoB;AAEvB,YAAM,cAAc,UAAU,YAAY,UAAU;AAGpD,UAAI,YAAY,YAAY,EAAE,WAAW,IAAI,GAAG;AAE9C,eAAO,SAAS,OAAO,WAAW;AAAA,MACpC;AAGA,mBAAa,QAAQ,sBAAsB,YAAY,YAAY,EAAE,WAAW,IAAI,IAAI,OAAO,IAAI;AAAA,IACrG;AAAA,EACF;AAGA,WAAS,qBAAqB,QAAQ;AACpC,UAAM,eAAe,SAAS,iBAAiB,cAAc;AAE7D,iBAAa,QAAQ,UAAQ;AAC3B,WAAK,iBAAiB,SAAS,SAAS,GAAG;AAEzC,cAAM,qBAAqB,KAAK,KAAK,SAAS,MAAM;AACpD,qBAAa,QAAQ,sBAAsB,qBAAqB,OAAO,IAAI;AAAA,MAC7E,CAAC;AAAA,IACH,CAAC;AAAA,EACH;",
  "names": []
}
