(()=>{function s(o={}){let{basePath:e="",currentLang:t="no",langPrefix:a=""}=o;l(o),g(o)}function l(o){let{basePath:e="",currentLang:t="no"}=o,a=window.location.pathname;if(!(a===e+"/"||a===e+"/index.html"||a===e+"/en/"||a===e+"/en/index.html"||a===e||a===e+"/"+t+"/"||a===e+"/"+t+"/index.html"))return;if(!localStorage.getItem("languagePreference")){let n=navigator.language||navigator.userLanguage;n.toLowerCase().startsWith("en")&&(window.location.href=e+"/en/"),localStorage.setItem("languagePreference",n.toLowerCase().startsWith("en")?"en":"no")}}function g(o){document.querySelectorAll(".lang-switch").forEach(t=>{t.addEventListener("click",function(a){let c=this.href.includes("/en/");localStorage.setItem("languagePreference",c?"en":"no")})})}function r(o={}){console.log("Navigation module initialized");let e=document.querySelector(".menu-toggle"),t=document.querySelector(".nav-menu");e&&t&&e.addEventListener("click",()=>{t.classList.toggle("active"),e.classList.toggle("active")}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(c){c.preventDefault();let i=document.querySelector(this.getAttribute("href"));i&&i.scrollIntoView({behavior:"smooth",block:"start"})})})}document.addEventListener("DOMContentLoaded",()=>{console.log("Anteo website initialized");let o=window.ANTEO_CONFIG||{basePath:"",langPrefix:"",currentLang:"no",defaultLang:"no"};s(o),r(o);let e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".nav-menu"),a=document.body;e&&t&&(e.addEventListener("click",()=>{let n=t.classList.contains("active");t.classList.toggle("active"),e.classList.toggle("active"),e.setAttribute("aria-expanded",!n),a.style.overflow=n?"":"hidden"}),document.addEventListener("click",n=>{t.classList.contains("active")&&!t.contains(n.target)&&!e.contains(n.target)&&(t.classList.remove("active"),e.classList.remove("active"),e.setAttribute("aria-expanded","false"),a.style.overflow="")}),document.addEventListener("keydown",n=>{n.key==="Escape"&&t.classList.contains("active")&&(t.classList.remove("active"),e.classList.remove("active"),e.setAttribute("aria-expanded","false"),a.style.overflow="")}),t.querySelectorAll("a").forEach(n=>{n.addEventListener("click",()=>{t.classList.remove("active"),e.classList.remove("active"),e.setAttribute("aria-expanded","false"),a.style.overflow=""})}));let c=document.querySelector(".language-toggle"),i=document.querySelector(".language-dropdown");c&&i&&(c.addEventListener("click",n=>{n.stopPropagation(),i.classList.toggle("active")}),document.addEventListener("click",n=>{i.contains(n.target)||i.classList.remove("active")}),document.addEventListener("keydown",n=>{n.key==="Escape"&&i.classList.remove("active")}))});})();
